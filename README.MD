# üì¶ Library System

Sistema de gerenciamento de biblioteca que permite o cadastro, leitura e exclus√£o de livros, editoras, autores e resenhas, implementado em Java utilizando Hibernate e PostgreSQL como banco de dados relacional.

---

## üöÄ Tecnologias Utilizadas

- [Java](https://www.oracle.com/java/)
- [Hibernate](https://hibernate.org/)
- [Docker](https://www.docker.com/)
- [PostgreSQL](https://www.postgresql.org/)

---

## üß± Estrutura do Projeto

```plaintext
spring-jpa
‚îÇ
‚îú‚îÄ‚îÄ controllers/
‚îÇ    ‚îú‚îÄ‚îÄ AuthorController                # controller de autores
‚îÇ    ‚îú‚îÄ‚îÄ BookController                  # controller de livros
‚îÇ    ‚îú‚îÄ‚îÄ PublisherController             # controller de editoras
‚îÇ    ‚îú‚îÄ‚îÄ ReviewController                # controller de review
‚îÇ
‚îú‚îÄ‚îÄ dtos/
‚îÇ    ‚îú‚îÄ‚îÄ AuthorRecordDto                 # dto de autores
‚îÇ    ‚îú‚îÄ‚îÄ BookRecordDto                   # dto de livros
‚îÇ    ‚îú‚îÄ‚îÄ PublisherRecordDto              # dto de editoras
‚îÇ    ‚îú‚îÄ‚îÄ ReviewRecordDto                 # dto de review
‚îÇ
‚îú‚îÄ‚îÄ exceptions/
‚îÇ    ‚îú‚îÄ‚îÄ DeletionException               # Exception para erros de exclus√£o
‚îÇ    ‚îú‚îÄ‚îÄ ResourceNotFoundException       # Exception para erros de recursos n√£o encotrados
‚îÇ
‚îú‚îÄ‚îÄ models/
‚îÇ    ‚îú‚îÄ‚îÄ Author                          # model de autor
‚îÇ    ‚îú‚îÄ‚îÄ Book                            # model de livro
‚îÇ    ‚îú‚îÄ‚îÄ Publisher                       # model de editora
‚îÇ    ‚îú‚îÄ‚îÄ Review                          # model de review
‚îÇ
‚îú‚îÄ‚îÄ repositories/
‚îÇ    ‚îú‚îÄ‚îÄ AuthorRepository                # repository de autor
‚îÇ    ‚îú‚îÄ‚îÄ BookRepository                  # repository de livro
‚îÇ    ‚îú‚îÄ‚îÄ PublisherRepository             # repository de editor
‚îÇ    ‚îú‚îÄ‚îÄ ReviewRepository                # repository de review
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ    ‚îú‚îÄ‚îÄ AuthorService                   # service de autores
‚îÇ    ‚îú‚îÄ‚îÄ BookService                     # service de livros
‚îÇ    ‚îú‚îÄ‚îÄ PublisherService                # service de editoras
‚îÇ    ‚îú‚îÄ‚îÄ ReviewService                   # service de review
‚îÇ
‚îî‚îÄ‚îÄ

```

---

## üê≥ Como Rodar o Projeto

### Pr√©-requisitos

- Docker
- Docker Compose

### Instru√ß√µes

1. Clone o reposit√≥rio:

```bash
git https://github.com/Jjunior112/spring-jpa
cd spring-jpa
```

2. Inicie o PostgreSQL via Docker::

```bash
docker-compose up --build
```

3. Inicie o sistema:

```bash
./mvnw spring-boot:run
```

---

## üîÅ Servi√ßos Dispon√≠veis

| Servi√ßo          | Rota       | Descri√ß√£o                                        |
| ---------------- | ---------- | -------------------------------------------------|
| BookService      | /book      | CRUD  de livros                                  |
| AuthorService    | /author    | CRUD  de autores                                 |
| PublisherService | /publisher | CRUD  de editoras (com valida√ß√£o de integridade) |
| ReviewService    | /review    | CRUD  de reviews                                 |

> Todos os endpoints devem ser acessados em (`localhost:8080`)
> As portas padr√µes podem ser alteradas no arquivo de configura√ß√£o (`application.properties`).

---

## Rotas

### Autores

- **GET /author**

  - Retorna a lista de todos os autores.
  - **Exemplo de resposta:**
    ```json
    [
      {
        "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
        "name": "jose"
      }
    ]
    ```

- **GET /author/{id}**

  - Retorna um autor espec√≠fico com base no ID.
  - **Exemplo de resposta:**
    ```json
    {
      "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
      "name": "jose"
    }
    ```

- **POST /author**
  - Cria um novo registro de autor.
  - **Exemplo de corpo de requisi√ß√£o:**
    ```json
    {
      "name": "jose"
    }
    ```
- **DELETE /author/{id}**
  - Exclui um autor.

### Livros

- **GET /book**

  - Retorna a lista de todos os livros.
  - **Exemplo de resposta:**
    ```json
    [
      {
        "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
        "title": "Aventuras de Jos√©",
        "publisherId": "cbd8455a-1d23-4e5d-8bb7-17d1a4567e12",
        "authorsIds": ["9a1b3c2d-4f5e-6789-abcd-1234567890ef"],
        "reviewComment": "Um livro excelente sobre coragem e supera√ß√£o."
      }
    ]
    ```

- **GET /book/{id}**

  - Retorna um livro espec√≠fico com base no ID.
  - **Exemplo de resposta:**
    ```json
    {
      "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
      "title": "Aventuras de Jos√©",
      "publisherId": "cbd8455a-1d23-4e5d-8bb7-17d1a4567e12",
      "authorsIds": ["9a1b3c2d-4f5e-6789-abcd-1234567890ef"],
      "reviewComment": "Um livro excelente sobre coragem e supera√ß√£o."
    }
    ```

- **POST /book**
  - Cria um novo registro de livro.
  - **Exemplo de corpo de requisi√ß√£o:**
    ```json
    {
      "title": "Aventuras de Jos√©",
      "publisherId": "cbd8455a-1d23-4e5d-8bb7-17d1a4567e12",
      "authorsIds": ["9a1b3c2d-4f5e-6789-abcd-1234567890ef"],
      "reviewComment": "Um livro excelente sobre coragem e supera√ß√£o."
    }
    ```
- **DELETE /book/{id}**
  - Exclui um livro com base no ID.

### Editora

- **GET /publisher**

  - Retorna a lista de todos as editoras.
  - **Exemplo de resposta:**
    ```json
    [
      {
        "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
        "name": "Editora Central"
      }
    ]
    ```

- **GET /publisher/{id}**

  - Retorna uma editora espec√≠fica com base no ID.
  - **Exemplo de resposta:**
    ```json
    {
      "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
      "name": "Editora Central"
    }
    ```

- **POST /publisher**
  - Cria um novo registro de editora.
  - **Exemplo de corpo de requisi√ß√£o:**
    ```json
    {
      "name": "Editora Central"
    }
    ```
- **DELETE /publisher/{id}**
  - Exclui uma editora com base no ID. Caso exista algum livro associado √† editora, uma exce√ß√£o √© lan√ßada impedindo a exclus√£o.

### Review

- **GET /review**

  - Retorna a lista de todos os reviews.
  - **Exemplo de resposta:**
    ```json
    [
      {
        "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
        "comment": "Uma leitura envolvente e bem escrita."
      }
    ]
    ```

- **GET /review/{id}**

  - Retorna um review espec√≠fico com base no ID.
  - **Exemplo de resposta:**
    ```json
    {
      "id": "acc51146-8873-4cff-ac5f-ab854a75c13b",
      "comment": "Uma leitura envolvente e bem escrita."
    }
    ```

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a [MIT License](LICENSE).
